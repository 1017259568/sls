# 创建机器组 {#task_wc3_xn1_ry .task}

日志服务通过机器组的方式管理所有需要通过 Logtail 客户端收集日志的 ECS 云机器。

创建Logtail配置后，您可以在日志服务项目列表进入该项目的 机器组列表 页面进行创建。此外，您也可以根据页面提示，在 应用到机器组 页面，单击**创建机器组** 来创建机器组。

您可以通过如下两种方法定义一个机器组：

-   IP：定义机器组名称并添加一组机器的内网IP。

    您可以通过添加阿里云ECS内网IP的方式，直接将多台ECS添加到一个机器组中，为其统一Logtail配置。非ECS服务器创建机器组可以参考[非本人ECS（或线下机器）](intl.zh-CN/用户指南/Logtail 采集/机器组/非本人ECS（或线下机器）.md) 。

-   标识：定义属于机器组的一个标识，在对应机器上配置对应标识进行关联。

    系统由多个模块组成，每个模块每部分都可以进行单独的水平扩展、可以包含多台机器，为每个模块分别创建机器组，可以达到分类采集日志的目的。因此需要为每个模块分别创建自定义标识，并在各个模块的服务器上配置各自所属的标识。例如常见网站分为前端 HTTP 请求处理模块、缓存模块、逻辑处理模块和存储模块，其自定义标识可以分别定义为http\_module、cache\_module、logic\_module和store\_module。


1.   在日志服务控制台 Project列表 页面单击项目名称，进入该项目的Logstore列表。 
2.   单击左侧导航栏的 **LogHub - 实时采集** \> **Logtail机器组** 进入该项目的 机器组管理 页面，并单击 **创建机器组**。 或者在数据接入向导中创建采集配置后，于 应用到机器组 页面，单击 **创建机器组**。
3.   填写 机器组名称。 名称只能包含小写字母、数字、连字符（-）和下划线（\_）且必须以小写字母和数字开头和结尾，长度为3~128字节。
4.   选择机器组标识。 
    -   **IP 地址**

        选择此选项后您需要在 IP地址 处填写云服务器的内网 IP。

        **说明：** 

        -   请确保您填写的云服务器为此登陆云账号所有。
        -   请确保您填写的云服务器和当前日志服务 Project 在同一阿里云 Region。
        -   请确保使用 ECS 云服务器的内网 IP（不是外网 IP），且多个 IP 用换行分割。
        -   请不要把 Windows 云服务器和 Linux 云服务器添加到同一机器组。
        -   目前日志服务已经关闭云盾远程安装Logtail客户端功能，请您按照 [Linux](intl.zh-CN/用户指南/Logtail 采集/安装/Linux.md)进行操作。
        ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/13080/5277_zh-CN.png "IP地址")

    -   **用户自定义标识**

        选择此选项后您需要在 用户自定义标识 处填写您自定义的标识。

        执行此步骤前，请确认您已经在需要采集日志的服务器上创建了用户自定义标识。有关如何使用用户自定义标识，参见[机器组-标识](intl.zh-CN/用户指南/Logtail 采集/机器组/机器组-标识.md)。

        当模块需要扩容机器时，比如前端模块增加服务器，只需要在新增服务器上安装Logtail和创建自定义标识为`http_module`的文件即可自动同步不同机器组的配置，成功执行操作后可以在机器查看状态中看到新增机器。

        ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/13080/5278_zh-CN.png "自定义标识")

5.   填写 **机器组Topic**。 
6.   单击 **确定**。 您可以在机器组列表里看到刚创建的机器组。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/13080/5279_zh-CN.png "机器组列表")


创建完机器组之后，您可以查看机器组列表、修改机器组、查看机器组状态、管理配置或删除机器组。

