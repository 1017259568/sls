# 饼图 {#concept_yyr_fnq_zdb .concept}

饼图用于表示不同分类的占比情况，通过弧度大小来对比各种分类。饼图通过将一个圆饼按照分类的占比划分成多个区块，整个圆饼代表数据的总量，每个区块（圆弧）表示该分类占总体的比例大小，所有区块（圆弧）的加和等于100%。

## 构成 {#section_vsh_55v_tdb .section}

-   扇形
-   文本百分比
-   图例

## 配置项 {#section_uvx_55v_tdb .section}

|配置项|说明|
|:--|:-|
|分类|分类数据。|
|数值列|分类数据对应的数值。|
|图例位置|图例在图表中的位置，可以配置为上、下、左和右。|
|间距|坐标轴距离图表边界距离。|
|饼图类型|提供饼图（默认）、环图以及南丁格尔玫瑰图。|

## 类型 {#section_oqz_w5v_tdb .section}

日志服务提供默认饼图、环图及南丁格尔玫瑰图三种类型的饼图。

**环图**

环图本质上是将饼图中心挖空，相比于饼图来说有如下优点：

-   在原有构成的基础上增加了总数显示，展示了更多的信息。
-   两个饼图直接进行比较是非常不直观的，两个环图间可以通过环状条长度进行简单的对比。

**南丁格尔玫瑰图**

南丁格尔玫瑰图本质上并不是环图，而是在极坐标系下画出来的柱状图，每一个分类数据被圆弧平分，使用圆弧的半径长短表示数据的大小，相比于饼图来说有如下优点：

-   饼图适用于不超过10条的分类数据，南丁格尔玫瑰图则适用于分类较多的场景（10-30条数据）。
-   由于半径和面积是成平方的关系，南丁格尔玫瑰图放大了各个分类数据之间值的差异，尤其适合对比大小相近的数值。
-   由于圆形有周期的特性，南丁格尔玫瑰图也适用于表示一个周期的时间概念，比如星期、月份。

## 使用步骤 { .section}

1.  键入查询分析语句，选择时间区间后点击右侧**查询**按钮。
2.  选择饼图![](https://cdn.yuque.com/lark/2018/png/60648/1523181004950-79fc5b0d-22e7-4d35-a61a-bc3cd0b76235.png) 。
3.  配置图表属性。

**说明：** 

-   饼图和环图适用于10条以内的数据，建议使用`LIMIT`进行控制，以免不同色的分面太多导致分析不直观。
-   分析超过10条数据建议采用南丁格尔玫瑰图或者柱状图。

## 示例 {#section_yw4_dvv_tdb .section}

## 饼图 {#section_c12_fvv_tdb .section}

分析访问`status`的占比情况：

```
* | select status, count(1) as c group by status order by c limit 10
```

![](images/5719_zh-CN.png "饼图")

## 环图 {#section_ffc_kvv_tdb .section}

分析访问`request_method`的占比情况：

```
* | select request_method, count(1) as c group by request_method order by c limit 10
```

![](images/5721_zh-CN.png "环图")

## 南丁格尔玫瑰图 {#section_q3d_lvv_tdb .section}

分析访问`request_uri`的占比情况：

```
* | select request_uri, count(1) as c group by request_uri order by c
```

![](images/5722_zh-CN.png "南丁格尔玫瑰图")

